define(function(){var t=function(i){this.settings=$.extend({},t.defaults,i),this.init()};t.prototype={init:function(){this.create()},create:function(){var t=this,i=$(t.settings.pointParentObjStr).offset().left;t.minOffsetX=parseInt($(t.settings.pointObjStr).css("width"))/2,t.maxOffsetX=($(window).width()-2*i).toFixed(0),t.rangeWidth=(t.maxOffsetX-t.minOffsetX)/(t.settings.pointsNumber-1),$(t.settings.sliderObjStr).each(function(i,s){var e=parseInt($(s).attr("data-curValue"))-1;$(s).find(t.settings.pointObjStr).css({left:e*t.rangeWidth}),t.settings.hasImg?($(s).siblings().find(t.settings.imgObjStr).hide(),$(s).siblings().find(t.settings.imgObjStr).eq(e).show(),$(s).attr("data-name",$(s).siblings(t.settings.titleObjStr).text())):($(s).find(t.settings.highLightObjStr).eq(t.settings.pointsNumber-1).css("text-align","right"),$(s).find(t.settings.highLightObjStr).removeClass("high-light"),$(s).find(t.settings.highLightObjStr).eq(e).addClass("high-light"))}),t.bindEvent()},fixOffsetX:function(t){var i=this;return t-=$(i.settings.pointParentObjStr).offset().left,0>t&&(t=0),t>i.maxOffsetX&&(t=i.maxOffsetX),t},bindEvent:function(){var t=this,i=$(t.settings.triggerObjStr);$(window).on("resize",function(){$(t.settings.pointObjStr).css({top:"50%",left:"0","-webkit-transform":"translate(-50%, -50%)"});var i=$(t.settings.pointParentObjStr).offset().left;t.minOffsetX=parseInt($(t.settings.pointObjStr).css("width"))/2,t.maxOffsetX=($(window).width()-2*i).toFixed(0),t.rangeWidth=(t.maxOffsetX-t.minOffsetX)/(t.settings.pointsNumber-1),$(t.settings.sliderObjStr).attr("data-curValue","1"),$(t.settings.sliderObjStr).each(function(i,s){t.settings.hasImg?($(s).siblings().find(t.settings.imgObjStr).hide(),$(s).siblings().find(t.settings.imgObjStr).eq(0).show()):($(s).find(t.settings.highLightObjStr).removeClass("high-light"),$(s).find(t.settings.highLightObjStr).eq(0).addClass("high-light"))})}),i.delegate(t.settings.sliderObjStr,"touchstart",function(t){t.preventDefault()}),i.delegate(t.settings.sliderObjStr,"touchmove",function(i){var s=$(this),e=s.find(t.settings.pointObjStr),n=t.fixOffsetX(i.changedTouches[0].clientX);i.preventDefault(),e.css("position","absolute"),e.css("left",n)}),i.delegate(t.settings.sliderObjStr,"touchend",function(i){var s=$(this),e=s.find(t.settings.pointObjStr),n=t.fixOffsetX(i.changedTouches[0].clientX),r=(n/t.rangeWidth).toFixed(0);i.preventDefault();var g=r*t.rangeWidth;e.css("left",g),s.attr("data-curValue",parseInt(r)+1);var a=parseInt(r);if(t.settings.hasImg){var h=s.siblings().find(t.settings.imgObjStr);h.hide(),h.eq(a).show()}else s.find(t.settings.highLightObjStr).removeClass("high-light"),s.find(t.settings.highLightObjStr).eq(a).addClass("high-light")})}},t.defaults={hasImg:!1,pointsNumber:3,triggerObjStr:"",titleObjStr:"",imgObjStr:"",highLightObjStr:"",sliderObjStr:"",pointParentObjStr:"",pointObjStr:""};var i=function(i){new t(i)};window.rPointSliding=$.rPointSliding=$.pointSliding=i});